(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],[,function(e,t,a){e.exports={NavigationPanel:"NavigationPanel_NavigationPanel__2rpmO",navWrapper:"NavigationPanel_navWrapper__2jAab",nav:"NavigationPanel_nav__25_QP",iconWrapper:"NavigationPanel_iconWrapper__AVxfP",img:"NavigationPanel_img__OWVRr"}},function(e,t,a){e.exports={container:"TaggerForm_container__3vTty",title:"TaggerForm_title__3bAke",dropDownWrapper:"TaggerForm_dropDownWrapper__3sLOW",inputLabelsWrapper:"TaggerForm_inputLabelsWrapper__1DsAa",valueType:"TaggerForm_valueType__1jDyn",value:"TaggerForm_value__2JMCO",attributesWrapper:"TaggerForm_attributesWrapper__1btQD",attributeName:"TaggerForm_attributeName__2ByrV",TaggerForm:"TaggerForm_TaggerForm__39iT4",mainContainer:"TaggerForm_mainContainer__19yyu",memorialNameWrapper:"TaggerForm_memorialNameWrapper__zAhVV",memorialName:"TaggerForm_memorialName__3I-6A",memorialNameInput:"TaggerForm_memorialNameInput__2bL7_",noMemorialNameError:"TaggerForm_noMemorialNameError__3UDTR",memorialNameError:"TaggerForm_memorialNameError__1aKGj",buttonsWrapper:"TaggerForm_buttonsWrapper__2uU4x",fillCoordinatesButtonWrapper:"TaggerForm_fillCoordinatesButtonWrapper__CLD7R",fillCoordinatesButton:"TaggerForm_fillCoordinatesButton__2YgQf",noCoordsError:"TaggerForm_noCoordsError__1l3HI",coordsError:"TaggerForm_coordsError__2Nfta",uploadButtonWrapper:"TaggerForm_uploadButtonWrapper__3Krgq",uploadButton:"TaggerForm_uploadButton__3H7ZL",saveButtonWrapper:"TaggerForm_saveButtonWrapper__1l6Cv",saveMemorialButton:"TaggerForm_saveMemorialButton__3Qgaq",disabledButton:"TaggerForm_disabledButton__3lgtE"}},function(e,t,a){e.exports={attributes:"Attributes_attributes__1fFP_",attributeDropdownWrapper:"Attributes_attributeDropdownWrapper__3RhbK",deleteAttributeWrapper:"Attributes_deleteAttributeWrapper__2AbNs",deleteAttributeButton:"Attributes_deleteAttributeButton__ese3h",hiddenDeleteAttributeButton:"Attributes_hiddenDeleteAttributeButton__HwJef",valueTypeInput:"Attributes_valueTypeInput__2YHHc",valueTypeInputCell:"Attributes_valueTypeInputCell__1Njva",requiredCheckBox:"Attributes_requiredCheckBox__Fo1yY",buttonsWrapper:"Attributes_buttonsWrapper__3unbY",saveButtonWrapper:"Attributes_saveButtonWrapper__24DsG",saveButton:"Attributes_saveButton__1ULsQ",disabledSaveButton:"Attributes_disabledSaveButton__wj4Fw",deleteButtonWrapper:"Attributes_deleteButtonWrapper__2zsLJ",deleteButton:"Attributes_deleteButton__2kBPJ"}},,,,,,,function(e,t,a){e.exports={inputLabel:"Attribute_inputLabel__3j9ML",valueInput:"Attribute_valueInput__XWtkl",valueInputDisabled:"Attribute_valueInputDisabled__dx2GH",valueInputInvalid:"Attribute_valueInputInvalid__2nUWJ",yesNoInput:"Attribute_yesNoInput__1asdU",invalidInput:"Attribute_invalidInput__3sy_X",required:"Attribute_required__3GJ24",notRequired:"Attribute_notRequired__1u8qW",attributeTextBox:"Attribute_attributeTextBox__2BGDM",valueTypeInput:"Attribute_valueTypeInput__sZNGH",valueTypeInputCell:"Attribute_valueTypeInputCell__RArGF",noError:"Attribute_noError__zs-A_",error:"Attribute_error__FCWOd"}},,,function(e,t,a){e.exports={container:"MemorialTypes_container__234CY",title:"MemorialTypes_title__Xdg14",dropDownWrapper:"MemorialTypes_dropDownWrapper__dZvr6",memorialTypeNameWrapper:"MemorialTypes_memorialTypeNameWrapper__ytadr",memorialTypeName:"MemorialTypes_memorialTypeName__2xymG",memorialTypeNameInput:"MemorialTypes_memorialTypeNameInput__pN2x9",attributesWrapper:"MemorialTypes_attributesWrapper__1rZH-"}},function(e,t,a){e.exports={popup:"Popup_popup__ZfRlg",popup_inner:"Popup_popup_inner__3DlFU",popup_innerText:"Popup_popup_innerText__2lXPH",closeWindow:"Popup_closeWindow__2WhHw",continueButton:"Popup_continueButton__rqR_5"}},,function(e,t,a){e.exports={tableHeader:"AttributeForm_tableHeader__6mOiA",tableHeaderDiv:"AttributeForm_tableHeaderDiv__3inmI",autoGenerateButton:"AttributeForm_autoGenerateButton__1PJKL",attributeForm:"AttributeForm_attributeForm__2Ds5k"}},,,function(e,t,a){e.exports=a.p+"static/media/deleteAttribute.61edc82a.png"},,,,,,,,,,,function(e,t,a){e.exports={App:"App_App__2Ywf7"}},function(e,t,a){e.exports={SideBar:"SideBar_SideBar__15Kdq"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAABmElEQVR4nO2aMU7EMBBFPwghSlpqOABUXAEkOMRyEfZOHIwyUKClilii7G7+zNgzUv6T0kSJ/59vx3aiAEIIIYQQYp2cEdfumrlow6Lazlu7qI4CyDaQzYXjXmb+6IFpjlr9CFAA2QayUQDZBrJpHcBtQBs3AW2EsJscp9gC+Abw6tDcABgWtsH6o2EEtnvXWUPYAPgh2igTwAP+jI/HAOCJ0HqbaeMTwHWAPzOMwH7vsSPh0L0vgf5MsAKWEKzFW/zRWASYEDzFW/1RWAWWhOAt3uOvi8CxECKK9/rrIjA3s3/NnGNXjCh/XQTmetvb85H+uggcCsFTvNlftZehal+Z/tHrEbC+O5R/BFY9CR5b6jzb5ih/TQWWrPMRIZQMgNnkeEMoF4Blh+cJoVQAnu2tNYQyATyjzQeRAcBdgD8zSwUuAXyA7/kp05HwHuTPDCMwhuDd3o4hnCqe9WeCFbgC8Bige7/wOlMAnj9Equ3bTf6qvQx1RwFkG8hGAWQbyMbzj1CTtbY3qx8BCiDbgBBCCCGEEDn8Ap3LfvmasgpbAAAAAElFTkSuQmCC"},function(e,t,a){e.exports={Dash:"Dash_Dash__1soGq"}},function(e,t,a){e.exports=a(61)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),i=a.n(l),o=(a(39),a(4)),s=a(5),u=a(7),c=a(6),p=a(30),m=a.n(p),d=a(1),v=a.n(d),g=function(e){return r.a.createElement("div",{className:v.a.NavigationPanel},r.a.createElement("ul",{onClick:e.handleNavigationClick},r.a.createElement("li",null,r.a.createElement("div",{className:v.a.navWrapper},r.a.createElement("div",{className:v.a.iconWrapper},r.a.createElement("img",{className:v.a.img,alt:"account icon",src:"./images/accountImg.png"})),r.a.createElement("div",{className:v.a.nav,id:"Accounts"},"Accounts"))),r.a.createElement("li",null,r.a.createElement("div",{className:v.a.navWrapper},r.a.createElement("div",{className:v.a.iconWrapper},r.a.createElement("img",{className:v.a.img,alt:"tagger form icon",src:"./images/taggerForm.png"})),r.a.createElement("div",{className:v.a.nav,id:"Tagger Form"},"Tagger Form"))),r.a.createElement("li",null,r.a.createElement("div",{className:v.a.navWrapper},r.a.createElement("div",{className:v.a.iconWrapper},r.a.createElement("img",{className:v.a.img,alt:"account icon",src:"./images/memorialImg.png"})),r.a.createElement("div",{className:v.a.nav,id:"Memorials"},"Memorials"))),r.a.createElement("li",null,r.a.createElement("div",{className:v.a.navWrapper},r.a.createElement("div",{className:v.a.iconWrapper},r.a.createElement("img",{className:v.a.img,alt:"account icon",src:"./images/typesImg.png"})),r.a.createElement("div",{className:v.a.nav,id:"Memorial Types"},"Types"))),r.a.createElement("li",null,r.a.createElement("div",{className:v.a.navWrapper},r.a.createElement("div",{className:v.a.iconWrapper},r.a.createElement("img",{className:v.a.img,alt:"account icon",src:"./images/settingsImg.png"})),r.a.createElement("div",{className:v.a.nav,id:""},"Attributes")))))},b=a(31),h=a.n(b),_=function(e){return r.a.createElement("div",{className:h.a.SideBar},r.a.createElement("div",null,e.accountType),r.a.createElement(g,{handleNavigationClick:e.handleNavigationClick}))},N=(a(40),function(e){return r.a.createElement("h1",null,"I am the dash for Accounts")}),y=(a(41),function(e){return r.a.createElement("h1",null,"I am the dash for Memorials")}),E=a(9),f=a.n(E),A=a(15),T=a.n(A),C=a(13),I=a.n(C),w=function(e){return r.a.createElement("div",null,r.a.createElement("select",{onChange:function(t){return e.dropdownChange(t)}},0===e.selectedTypeIndex?r.a.createElement("option",{key:"selectType",value:"selectType"},"Select a type"):null,Object.values(e.types).map((function(e,t){return r.a.createElement("option",{key:e.Id,value:t},e.Name)}))))},B=a(11),W=a(12),V=a(3),k=a.n(V),S=a(19),M=a.n(S),F=a(14),x=a.n(F),O=a(32),D=a.n(O),j=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:x.a.popup},r.a.createElement("div",{className:x.a.popup_inner},r.a.createElement("img",{className:x.a.closeWindow,src:D.a,onClick:this.props.closePopup}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:x.a.popup_innerText},this.props.oldTypeName!==this.props.newTypeName&&r.a.createElement("div",null,'You are about to change "',this.props.oldTypeName,'" to "',this.props.newTypeName,'"'),this.props.deletedAttributeCount>0&&r.a.createElement("div",null,"You are about to delete ["," ",Object.values(this.props.deletedAttributes).map((function(e){return e+" "})),'] attributes from "',this.props.oldTypeName,'"'),r.a.createElement("br",null),r.a.createElement("div",null,"Do you want to continue?"),r.a.createElement("br",null),r.a.createElement("div",{className:x.a.continueButtonWrapper},r.a.createElement("button",{className:x.a.continueButton,onClick:this.props.saveAttributes},"Continue")))))}}]),a}(r.a.Component),L=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeRequired=function(e,t){var a=T.a.cloneDeep(n.state.selectedAttributes);a[t].Required=!("true"===e.target.value),n.setState({selectedAttributes:a,showSaveButton:!0})},n.addAttribute=function(e){var t=Object(W.a)(n.state.allAttributes),a=Object(W.a)(n.state.selectedAttributes),r=t.find((function(t){return t.Id===e}));r.Required=!1,a.push(r),t=t.filter((function(t){return t.Id!=e})),n.setState({allAttributes:t,selectedAttributes:a,showSaveButton:!0})},n.deleteAttribute=function(e){var t=Object(W.a)(n.state.allAttributes),a=Object(W.a)(n.state.selectedAttributes),r=a.find((function(t){return t.Id===e}));t.push(r),a=a.filter((function(t){return t.Id!=e}));var l=t.sort((function(e,t){return e.Name.toLowerCase()>t.Name.toLowerCase()?1:-1}));n.setState({allAttributes:l,selectedAttributes:a,showSaveButton:!0})},n.saveAttributes=function(){if(""!==n.props.typeName.toLowerCase())if(n.setState({isSaving:!0}),n.props.selectedTypeId){if(n.props.typeName!=n.props.oldTypeName){var e={Name:n.props.typeName};f.a.put("http://localhost:1337/types/"+n.props.selectedTypeId,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}var t={Attributes:n.state.selectedAttributes};f.a.put("http://localhost:1337/types/"+n.props.selectedTypeId+"/attributes",t).then((function(e){console.log(e.data),window.location.reload(!0)})).catch((function(e){console.log(e)}))}else{var a={Type:{Name:n.props.typeName},Attributes:n.state.selectedAttributes};f.a.post("http://localhost:1337/types/attributes",a).then((function(e){console.log(e.data),window.location.reload(!0)})).catch((function(e){console.log(e)}))}else alert("Type Name cannot be empty")},n.deleteType=function(){n.setState({isSaving:!0}),f.a.delete("http://localhost:1337/types/"+n.props.selectedTypeId).then((function(e){console.log(e.data),window.location.reload(!0)})).catch((function(e){console.log(e)}))},n.togglePopup=function(){!1===n.state.showPopup&&n.calculateDeletedAttributes(),n.setState({showPopup:!n.state.showPopup})},n.calculateDeletedAttributes=function(){for(var e=Object(W.a)(n.state.oldAttributes),t=Object(W.a)(n.state.selectedAttributes),a=0,r=[],l=[],i=0;i<t.length;i++)l[i]=t[i].Id;for(var o=0;o<e.length;o++)l.includes(e[o].Id)?a++:r.push(e[o].Name);var s=e.length-a;n.setState({deletedAttributeCount:s,deletedAttributes:r})},n.state={oldAttributes:[],selectedAttributes:[],allAttributes:[],showSaveButton:!1,isSaving:!1,showPopup:!1,deletedAttributeCount:0,deletedAttributes:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:1337/attributes").then((function(t){if(e.props.selectedTypeId)f.a.get("http://localhost:1337/types/"+e.props.selectedTypeId+"/attributes").then((function(a){var n=[];a.data.forEach((function(e,t){"longitude"==e.Name.toLowerCase()||"latitude"==e.Name.toLowerCase()?n.unshift(a.data[t]):n.push(a.data[t])})),e.setState({oldAttributes:a.data,selectedAttributes:n});var r=t.data.filter((function(e){return 0==a.data.filter((function(t){return t.Id==e.Id})).length})).sort((function(e,t){return e.Name.toLowerCase()>t.Name.toLowerCase()?1:-1}));e.setState({allAttributes:Object(W.a)(r)})})).catch((function(e){console.log(e)}));else{var a,n=[t.data.find((function(e){return"longitude"==e.Name.toLowerCase()})),t.data.find((function(e){return"latitude"==e.Name.toLowerCase()}))],r=t.data.filter((function(e){return 0==n.filter((function(t){return t.Id==e.Id})).length})).sort((function(e,t){return e.Name.toLowerCase()>t.Name.toLowerCase()?1:-1}));e.setState((a={selectedAttributes:n},Object(B.a)(a,"selectedAttributes",n),Object(B.a)(a,"allAttributes",Object(W.a)(r)),a))}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.showSaveButton||this.props.isTypeNameChanged,a=this.props.selectedTypeId,n=this.state.isSaving,l=this.state.showPopup,i=this.state.selectedAttributes;this.state.allAttributes.map((function(t){return{key:t.Id,text:t.Name,value:t.Name,onClick:function(){return e.addAttribute(t.Id)}}}));return r.a.createElement("div",{className:k.a.attributes},r.a.createElement("div",{className:k.a.attributeDropdownWrapper}),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{className:k.a.tableHeader},r.a.createElement("td",null),r.a.createElement("td",null,"Label"),r.a.createElement("td",null,"Data Type"),r.a.createElement("td",null,"Required")),i.map((function(t,a){return r.a.createElement("tr",null,"longitude"==t.Name.toLowerCase()||"latitude"==t.Name.toLowerCase()?[r.a.createElement("td",null,r.a.createElement("img",{className:k.a.hiddenDeleteAttributeButton,src:M.a})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",key:t.Id,value:t.Name,disabled:"disabled"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",value:t.ValueType,disabled:"disabled"})," "),r.a.createElement("td",{className:k.a.requiredCheckBox},r.a.createElement("input",{type:"checkbox",checked:!0,disabled:"disabled"}))]:[r.a.createElement("td",null,r.a.createElement("div",{className:k.a.deleteArributeWrapper},r.a.createElement("img",{className:k.a.deleteAttributeButton,src:M.a,onClick:function(){return e.deleteAttribute(t.Id)}}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",key:t.Id,value:t.Name,disabled:"disabled"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",value:t.ValueType,disabled:"disabled"})),r.a.createElement("td",{className:k.a.requiredCheckBox},r.a.createElement("input",{type:"checkbox",checked:t.Required,value:t.Required,onChange:function(t){return e.onChangeRequired(t,a)}}))])})))),r.a.createElement("div",{className:k.a.buttonsWrapper},r.a.createElement("div",{className:k.a.saveButtonWrapper},t&&a&&r.a.createElement("button",{className:k.a.saveButton,onClick:function(){return e.togglePopup()},disabled:n},"Save Type")),r.a.createElement("div",{className:k.a.saveButtonWrapper},!a&&r.a.createElement("button",{className:k.a.saveButton,onClick:function(){return e.saveAttributes()},disabled:n},"Save Type")),r.a.createElement("div",{className:k.a.deleteButtonWrapper},a?r.a.createElement("button",{className:k.a.deleteButton,onClick:function(){return e.deleteType()},disabled:n},"Delete Type"):null)),l&&r.a.createElement(j,{text:'Click "Cancel" to hide popup',saveAttributes:this.saveAttributes,deletedAttributeCount:this.state.deletedAttributeCount,deletedAttributes:this.state.deletedAttributes,oldTypeName:this.props.oldTypeName,newTypeName:this.props.typeName,closePopup:this.togglePopup}))}}]),a}(r.a.Component),P=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).dropdownChange=function(e){var t=T.a.cloneDeep(n.state.initialTypes[e.target.value]);n.setState({selected:t,selectedTypeIndex:e.target.value,newTypeName:t.Id?t.Name:"",isTypeNameChanged:!1})},n.handleNewTypeNameChange=function(e){n.setState({newTypeName:e.target.value,isTypeNameChanged:!0})},n.togglePopup=function(){n.setState({showPopup:!n.state.showPopup})},n.state={initialTypes:[],selected:[],selectedTypeIndex:0,newTypeName:"",isTypeNameChanged:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:1337/types").then((function(t){var a=[];t.data.length>0&&(a=t.data);a.unshift({Name:" + New Type"}),e.setState({initialTypes:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:I.a.container},r.a.createElement("div",{className:I.a.title},"Memorial Types Form"),r.a.createElement("div",{className:I.a.dropDownWrapper},r.a.createElement("div",null,"Memorial Types"),r.a.createElement(w,{types:this.state.initialTypes,selectedTypeIndex:this.state.selectedTypeIndex,dropdownChange:this.dropdownChange})),this.state.selectedTypeIndex?r.a.createElement("div",null,r.a.createElement("div",{className:I.a.memorialTypeNameWrapper},r.a.createElement("div",{className:I.a.memorialTypeName},"Memorial Type Name"),r.a.createElement("input",{className:I.a.memorialTypeNameInput,type:"text",value:this.state.newTypeName,placeholder:"Enter a name...",onChange:this.handleNewTypeNameChange,maxLength:50})),r.a.createElement("div",{className:I.a.attributesWrapper},r.a.createElement(L,{key:this.state.selected.Id,selectedTypeId:this.state.selected.Id,oldTypeName:this.state.selected.Name,typeName:this.state.newTypeName,isTypeNameChanged:this.state.isTypeNameChanged}))):null)}}]),a}(r.a.Component),q=function(e){return r.a.createElement("h1",null,"I am the Settings dash")},R=a(18),H=a(17),Y=a.n(H),Q=a(2),U=a.n(Q),G=a(16),z=a.n(G),J=a(10),X=a.n(J),K=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).validateInput=function(e){return"Yes/No"===n.props.ValueType?n.validateYesNo(e):n["validate".concat(n.props.ValueType)](e)},n.validateNumber=function(e){return/^(\d|-)?(\d|,)*\.?\d*$/.test(e)},n.validateWords=function(e){return!0},n.validateDate=function(e){return/^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/.test(e)},n.validateYesNo=function(e){return!0},n.onValueChange=function(e){var t=e.target.value,a=n.validateInput(t.trim());n.setState({inputFocus:!0,isValid:a,Value:t}),n.props.onValueChange(n.props.Id,t.trim(),a)},n.onValueInputBlur=function(e){n.setState({inputFocus:!1})},n.getErrorMessage=function(){return{Date:"Date Format: MM/DD/YYYY.",Number:"Invalid number."}[n.props.ValueType]},n.isInputDisabled=function(){var e=n.props.Name.toLowerCase();return"latitude"===e||"longitude"===e},n.getDisabledInputValue=function(){switch(n.props.Name.toLowerCase()){case"latitude":return n.props.latitude;case"longitude":return n.props.longitude}},n.getInputField=function(){var e;return"Yes/No"===n.props.ValueType?r.a.createElement("select",{className:X.a.yesNoInput,onChange:n.onValueChange},""===n.state.Value?r.a.createElement("option",null,"Select a value"):null,r.a.createElement("option",{value:!0},"Yes"),r.a.createElement("option",{value:!1},"No")):r.a.createElement("input",{className:Y()(X.a.valueInput,(e={},Object(B.a)(e,X.a.valueInputDisabled,n.isInputDisabled()),Object(B.a)(e,X.a.valueInputInvalid,!n.state.isValid&&!n.state.inputFocus),e)),type:"text",name:"attributeTextBox",id:n.props.Id,value:n.state.Value,readOnly:n.props.readOnly,onChange:n.onValueChange,onBlur:n.onValueInputBlur,maxLength:248})},n.state={inputFocus:!1,isValid:!0,Value:""},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){e.Value!==this.props.Value&&this.setState({isValid:this.state.isValid,Value:this.props.Value})}},{key:"render",value:function(){return[r.a.createElement("tr",{key:"attributeName",className:X.a.attribute},r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("div",{className:X.a.inputLabel},this.props.Name)),r.a.createElement("td",null)),r.a.createElement("tr",{key:"inputData"},r.a.createElement("td",{className:this.props.Required?X.a.required:X.a.notRequired},"*"),r.a.createElement("td",null,this.getInputField()),r.a.createElement("td",{className:X.a.valueTypeInputCell},r.a.createElement("input",{className:X.a.valueTypeInput,type:"text",name:"valueTypeTextBox",readOnly:!0,placeholder:this.props.ValueType}))),r.a.createElement("tr",{key:"errorMessage"},r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("div",{className:this.state.isValid||this.state.inputFocus?X.a.noError:X.a.error},this.getErrorMessage())),r.a.createElement("td",null))]}}]),a}(r.a.Component),Z=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isValid:!0,error:"Error",latitude:"",longitude:"",sortedAttributes:[{Id:"",Name:"",ValueType:"",Required:null,Value:null}]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=[];this.props.Attributes.forEach((function(t){var a=t.Name.toLowerCase();"latitude"===a||"longitude"===a?e.unshift(t):e.push(t)})),this.setState({sortedAttributes:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:z.a.divBox},r.a.createElement("table",{className:z.a.attributeForm},r.a.createElement("tbody",null,r.a.createElement("tr",{className:z.a.tableHeader},r.a.createElement("td",null),r.a.createElement("td",{className:z.a.valueHeader},"Value"),r.a.createElement("td",{className:z.a.valueTypeHeader},"Value Type")),this.state.sortedAttributes.map((function(t,a){return 0===a?r.a.createElement(K,{index:a,key:t.Id,Id:t.Id,Name:t.Name,ValueType:t.ValueType,Required:t.Required,onValueChange:e.props.onValueChange,readOnly:!0,Value:e.props.latitude}):1===a?r.a.createElement(K,{index:a,key:t.Id,Id:t.Id,Name:t.Name,ValueType:t.ValueType,Required:t.Required,onValueChange:e.props.onValueChange,readOnly:!0,Value:e.props.longitude}):r.a.createElement(K,{index:a,key:t.Id,Id:t.Id,Name:t.Name,ValueType:t.ValueType,Required:t.Required,onValueChange:e.props.onValueChange,Value:""})})))))}}]),a}(r.a.Component),$=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={Types:[{Id:"",Name:"",Attributes:[{Id:"",Name:"",ValueType:"",Required:null,Value:""}]}],Memorial:{Name:"",TypeId:"",Attributes:[{Id:"",Name:"",ValueType:"",Required:null,Value:"",isValid:!0}]},typeSelectedIndex:null,error:null,isLoading:!0,isSaving:!1,areCoordsValid:!0,isMemorialNameValid:!0,selectedFile:null},e.onTypeSelect=function(t){var a=T.a.cloneDeep(e.state.Types[t].Attributes);a.forEach((function(e){return e.Value=""})),e.setState({Memorial:{Name:"",TypeId:e.state.Types[t].Id,Attributes:a},typeSelectedIndex:t})},e.onMemorialNameChange=function(t){var a=Object(R.a)({},e.state.Memorial);a.Name=t.target.value,e.setState({Memorial:a,isMemorialNameValid:!0})},e.onValueChange=function(t,a,n){var r=Object(R.a)({},e.state.Memorial);r.Attributes.forEach((function(e){e.Id===t&&(e.Value=a,e.isValid=n)})),e.setState({Memorial:r})},e.onFillCoordinatesClick=function(){navigator.geolocation.getCurrentPosition((function(t){if(t){var a=t.coords.latitude,n=t.coords.longitude,r=Object(R.a)({},e.state.Memorial);r.Attributes.forEach((function(t){"latitude"===t.Name.toLowerCase()&&(t.Value=a),"longitude"===t.Name.toLowerCase()&&(t.Value=n),e.setState({latitude:a,longitude:n,Memorial:r,areCoordsValid:!0})}))}else alert("Unable to get geolocation..")}))},e.onSaveMemorialClick=function(){e.setState({isSaving:!0});var t=!0,a=!0,n=e.state.Memorial.Name;e.state.Memorial.Attributes.forEach((function(e){!1===e.isValid&&(a=!1),"latitude"!==e.Name.toLowerCase()||e.Value||(t=!1),"longitude"!==e.Name.toLowerCase()||e.Value||(t=!1)})),a&&t&&n?f.a.post("http://localhost:1337/memorials/values",e.state.Memorial).then((function(){return window.location.reload()})):(e.setState({areCoordsValid:t,isSaving:!1,isMemorialNameValid:n}),alert("Please fix Errors before saving!"))},e.imageButtonHandler=function(t){e.setState({selectedFile:t.target.files[0]})},e.fileUploadHandler=function(){new FormData},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:1337/types/attributes").then((function(t){e.setState({Types:t.data,isLoading:!1})}),(function(t){e.setState({isLoaded:!0,error:!1})}))}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement("div",{className:U.a.loadingTitle},"Loading..."):r.a.createElement("div",{className:U.a.container},r.a.createElement("div",{className:U.a.title},"Tagger Form"),r.a.createElement("div",{className:U.a.dropDownWrapper},r.a.createElement("div",null,"Memorial Type"),r.a.createElement("select",{name:"Memorial-Types",id:"Memorial-Types",onChange:function(t){return e.onTypeSelect(t.target.value)}},this.state.typeSelectedIndex?"":r.a.createElement("option",null,"Select a type"),this.state.Types.map((function(e,t){return r.a.createElement("option",{key:e.Id,value:t},e.Name)})))),this.state.typeSelectedIndex?r.a.createElement("div",null,r.a.createElement("div",{className:U.a.memorialNameWrapper},r.a.createElement("div",{className:U.a.memorialName},"Memorial Name"),r.a.createElement("input",{className:U.a.memorialNameInput,type:"text",onChange:this.onMemorialNameChange,maxLength:50}),this.state.isMemorialNameValid?null:r.a.createElement("div",{className:this.state.isMemorialNameValid?U.a.noMemorialNameError:U.a.memorialNameError},"Memorial Name can't be empty.")),r.a.createElement("div",{className:U.a.attributesWrapper},r.a.createElement(Z,{key:this.state.Types[this.state.typeSelectedIndex].Id,Attributes:this.state.Types[this.state.typeSelectedIndex].Attributes,onValueChange:this.onValueChange,latitude:this.state.latitude,longitude:this.state.longitude,memorialName:this.state.Memorial.Name})),this.state.areCoordsValid?null:r.a.createElement("div",{className:this.state.areCoordsValid?U.a.noCoordsError:U.a.coordsError},"Coordinates can't be empty."),r.a.createElement("div",{className:U.a.buttonsWrapper},r.a.createElement("div",{className:U.a.fillCoordinatesButtonWrapper},r.a.createElement("button",{className:U.a.fillCoordinatesButton,onClick:this.onFillCoordinatesClick},"Fill Coordinates")),r.a.createElement("div",{className:U.a.uploadButtonWrapper},r.a.createElement("input",{style:{display:"none"},type:"file"}),r.a.createElement("button",{onClick:function(){return e.fileUploadHandler},className:U.a.uploadButton},"Upload/Capture Image"))),r.a.createElement("div",{className:U.a.saveButtonWrapper},r.a.createElement("button",{className:Y()(U.a.saveMemorialButton,Object(B.a)({},U.a.disabledButton,this.state.isSaving)),onClick:this.onSaveMemorialClick},this.state.isSaving?r.a.createElement("div",null,"Saving... "):r.a.createElement("div",null,"Save Memorial")))):"")}}]),a}(r.a.Component),ee=a(33),te=a.n(ee),ae=function(e){var t=null;switch(e.page){case"Accounts":t=r.a.createElement(N,null);break;case"Memorials":t=r.a.createElement(y,null);break;case"Memorial Types":t=r.a.createElement(P,null);break;case"Settings":t=r.a.createElement(q,null);break;case"Tagger Form":t=r.a.createElement($,null);break;default:t=r.a.createElement(N,null)}return r.a.createElement("div",{className:te.a.Dash},t)},ne=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={page:"Accounts"},e.handleNavigationClick=function(t){var a=t.target.id;a&&e.changePage(a)},e.changePage=function(t){t!==e.state.page&&e.setState({page:t})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:m.a.App},r.a.createElement(_,{handleNavigationClick:this.handleNavigationClick}),r.a.createElement(ae,{page:this.state.page}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[34,1,2]]]);
//# sourceMappingURL=main.97478967.chunk.js.map